{"ast":null,"code":"var _jsxFileName = \"/home/vishal/projects/fullstack/Job-portal/frontend/src/components/Discussion/editor.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { ImBold, ImItalic, ImUnderline, ImImage, ImQuotesLeft } from \"react-icons/im\";\nimport { SyncLoader } from \"react-spinners\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Editor = _ref => {\n  _s();\n  let {\n    onUrlChange,\n    commentRef\n  } = _ref;\n  const [spinner, setSpinner] = useState(false);\n  function uploadImage(event) {\n    const fileToUpload = event.target.files[0];\n    setSpinner(true);\n    var formData = new FormData();\n    formData.append(\"file\", fileToUpload);\n    formData.append(\"api_key\", \"316255361857537\");\n    formData.append(\"upload_preset\", \"i74l2yd4\");\n    axios.post(\"https://api.cloudinary.com/v1_1/ddmtjxz7e/image/upload\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }).then(res => {\n      const imageUrl = res.data.secure_url;\n      onUrlChange(prev => [...prev, imageUrl]);\n      commentRef.current.innerText += imageUrl;\n      setSpinner(false);\n    });\n  }\n  function textActions(textStyle) {\n    let styleTag = document.createElement(textStyle);\n    if (window.getSelection) {\n      var rangeSelection = window.getSelection();\n      if (rangeSelection.rangeCount) {\n        var range = rangeSelection.getRangeAt(0).cloneRange();\n        range.surroundContents(styleTag);\n        rangeSelection.removeAllRanges();\n        rangeSelection.addRange(range);\n      }\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"styling-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"bold\",\n        onClick: () => textActions(\"b\"),\n        children: /*#__PURE__*/_jsxDEV(ImBold, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"italic\",\n        onClick: () => textActions(\"i\"),\n        children: /*#__PURE__*/_jsxDEV(ImItalic, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"underline\",\n        onClick: () => textActions(\"u\"),\n        children: /*#__PURE__*/_jsxDEV(ImUnderline, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        className: \"comment-image\",\n        accept: \"image/*\",\n        onInput: uploadImage,\n        \"data-testid\": \"image-upload\",\n        id: \"image\",\n        style: {\n          display: \"none\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), spinner && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"image-loader\",\n        children: /*#__PURE__*/_jsxDEV(SyncLoader, {\n          color: \"#36d7b7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"image\",\n        children: /*#__PURE__*/_jsxDEV(ImImage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"code\",\n        onClick: () => textActions(\"blockquote\"),\n        children: /*#__PURE__*/_jsxDEV(ImQuotesLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Editor, \"Y2ItAAUwiBHnRRjIAmt3XEDV+Y0=\");\n_c = Editor;\nexport default Editor;\nvar _c;\n$RefreshReg$(_c, \"Editor\");","map":{"version":3,"names":["React","useState","axios","ImBold","ImItalic","ImUnderline","ImImage","ImQuotesLeft","SyncLoader","Editor","onUrlChange","commentRef","spinner","setSpinner","uploadImage","event","fileToUpload","target","files","formData","FormData","append","post","headers","then","res","imageUrl","data","secure_url","prev","current","innerText","textActions","textStyle","styleTag","document","createElement","window","getSelection","rangeSelection","rangeCount","range","getRangeAt","cloneRange","surroundContents","removeAllRanges","addRange","display"],"sources":["/home/vishal/projects/fullstack/Job-portal/frontend/src/components/Discussion/editor.jsx"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport {\n  ImBold,\n  ImItalic,\n  ImUnderline,\n  ImImage,\n  ImQuotesLeft,\n} from \"react-icons/im\";\nimport { SyncLoader } from \"react-spinners\";\n\nconst Editor = ({ onUrlChange, commentRef }) => {\n  const [spinner, setSpinner] = useState(false);\n\n  function uploadImage(event) {\n    const fileToUpload = event.target.files[0];\n    setSpinner(true);\n\n    var formData = new FormData();\n    formData.append(\"file\", fileToUpload);\n    formData.append(\"api_key\", \"316255361857537\");\n    formData.append(\"upload_preset\", \"i74l2yd4\");\n\n    axios\n      .post(\n        \"https://api.cloudinary.com/v1_1/ddmtjxz7e/image/upload\",\n        formData,\n        {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      )\n      .then((res) => {\n        const imageUrl = res.data.secure_url;\n        onUrlChange((prev) => [...prev, imageUrl]);\n        commentRef.current.innerText += imageUrl;\n        setSpinner(false);\n      });\n  }\n\n  function textActions(textStyle) {\n    let styleTag = document.createElement(textStyle);\n    if (window.getSelection) {\n      var rangeSelection = window.getSelection();\n      if (rangeSelection.rangeCount) {\n        var range = rangeSelection.getRangeAt(0).cloneRange();\n        range.surroundContents(styleTag);\n        rangeSelection.removeAllRanges();\n        rangeSelection.addRange(range);\n      }\n    }\n  }\n\n  return (\n    <>\n      <div className=\"styling-buttons\">\n        <button type=\"button\" className=\"bold\" onClick={() => textActions(\"b\")}>\n          <ImBold />\n        </button>\n        <button\n          type=\"button\"\n          className=\"italic\"\n          onClick={() => textActions(\"i\")}\n        >\n          <ImItalic />\n        </button>\n        <button\n          type=\"button\"\n          className=\"underline\"\n          onClick={() => textActions(\"u\")}\n        >\n          <ImUnderline />\n        </button>\n\n        <input\n          type=\"file\"\n          className=\"comment-image\"\n          accept=\"image/*\"\n          onInput={uploadImage}\n          data-testid=\"image-upload\"\n          id=\"image\"\n          style={{ display: \"none\" }}\n        />\n        {spinner && (\n          <p className=\"image-loader\">\n            <SyncLoader color=\"#36d7b7\" />\n          </p>\n        )}\n        <label htmlFor=\"image\">\n          <ImImage />\n        </label>\n        <button\n          type=\"button\"\n          className=\"code\"\n          onClick={() => textActions(\"blockquote\")}\n        >\n          <ImQuotesLeft />\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default Editor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}